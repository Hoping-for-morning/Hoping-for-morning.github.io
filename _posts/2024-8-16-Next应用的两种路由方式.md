---
title: Next åº”ç”¨çš„ä¸¤ç§è·¯ç”±æ–¹å¼ 
date: 2024-08-16
categories: [Front-end]
tags: [frontend, web, next]
permalink: /posts/appRouter_pagesRouter_next
---



> æœ‰ä¸¤ç§è·¯ç”±æ–¹å¼ï¼ŒåŸå§‹çš„ `Pages Router`ï¼Œ 13ç‰ˆæœ¬ä»¥ä¸Šæå‡ºäº† `App Router` 

## App Router åº”ç”¨è·¯ç”±

ç›®å½•ç»“æ„

| filename                                                     |                     |                  |
| ------------------------------------------------------------ | ------------------- | ---------------- |
| [`layout`](https://next.nodejs.cn/docs/app/api-reference/file-conventions/layout) | `.js` `.jsx` `.tsx` | å¸ƒå±€             |
| [`page`](https://next.nodejs.cn/docs/app/api-reference/file-conventions/page) | `.js` `.jsx` `.tsx` | é¡µé¢             |
| [`loading`](https://next.nodejs.cn/docs/app/api-reference/file-conventions/loading) | `.js` `.jsx` `.tsx` | åŠ è½½ç”¨æˆ·ç•Œé¢     |
| [`not-found`](https://next.nodejs.cn/docs/app/api-reference/file-conventions/not-found) | `.js` `.jsx` `.tsx` | æœªæ‰¾åˆ°ç”¨æˆ·ç•Œé¢   |
| [`error`](https://next.nodejs.cn/docs/app/api-reference/file-conventions/error) | `.js` `.jsx` `.tsx` | é”™è¯¯ç”¨æˆ·ç•Œé¢     |
| [`global-error`](https://next.nodejs.cn/docs/app/api-reference/file-conventions/error#global-errorjs) | `.js` `.jsx` `.tsx` | å…¨å±€é”™è¯¯ç”¨æˆ·ç•Œé¢ |
| [`route`](https://next.nodejs.cn/docs/app/api-reference/file-conventions/route) | `.js` `.ts`         | API ç«¯ç‚¹         |
| [`template`](https://next.nodejs.cn/docs/app/api-reference/file-conventions/template) | `.js` `.jsx` `.tsx` | é‡æ–°æ¸²æŸ“å¸ƒå±€     |
| [`default`](https://next.nodejs.cn/docs/app/api-reference/file-conventions/default) | `.js` `.jsx` `.tsx` | å¹¶è¡Œè·¯ç”±åå¤‡é¡µé¢ |

## Pages Router é¡µé¢è·¯ç”±

ç›®å½•ç»“æ„

| ç‰¹æ®Šæ–‡ä»¶                                                     |                     |                |
| ------------------------------------------------------------ | ------------------- | -------------- |
| [`_app`](https://next.nodejs.cn/docs/pages/building-your-application/routing/custom-app) | `.js` `.jsx` `.tsx` | è‡ªå®šä¹‰åº”ç”¨     |
| [`_document`](https://next.nodejs.cn/docs/pages/building-your-application/routing/custom-document) | `.js` `.jsx` `.tsx` | è‡ªå®šä¹‰æ–‡ä»¶     |
| [`_error`](https://next.nodejs.cn/docs/pages/building-your-application/routing/custom-error#more-advanced-error-page-customizing) | `.js` `.jsx` `.tsx` | è‡ªå®šä¹‰é”™è¯¯é¡µé¢ |
| [`404`](https://next.nodejs.cn/docs/pages/building-your-application/routing/custom-error#404-page) | `.js` `.jsx` `.tsx` | 404 é”™è¯¯é¡µé¢   |
| [`500`](https://next.nodejs.cn/docs/pages/building-your-application/routing/custom-error#500-page) | `.js` `.jsx` `.tsx` | 500 é”™è¯¯é¡µé¢   |

| è·¯ç”±                                                         |                     |          |
| ------------------------------------------------------------ | ------------------- | -------- |
| **æ–‡ä»¶å¤¹çº¦å®š**                                               |                     |          |
| [`index`](https://next.nodejs.cn/docs/pages/building-your-application/routing/pages-and-layouts#index-routes) | `.js` `.jsx` `.tsx` | ä¸»é¡µ     |
| [`folder/index`](https://next.nodejs.cn/docs/pages/building-your-application/routing/pages-and-layouts#index-routes) | `.js` `.jsx` `.tsx` | åµŒå¥—é¡µé¢ |
| **æ–‡ä»¶çº¦å®š**                                                 |                     |          |
| [`index`](https://next.nodejs.cn/docs/pages/building-your-application/routing/pages-and-layouts#index-routes) | `.js` `.jsx` `.tsx` | ä¸»é¡µ     |
| [`file`](https://next.nodejs.cn/docs/pages/building-your-application/routing/pages-and-layouts) | `.js` `.jsx` `.tsx` | åµŒå¥—é¡µé¢ |

| åŠ¨æ€è·¯ç”±                                                     |                     |                        |
| ------------------------------------------------------------ | ------------------- | ---------------------- |
| **æ–‡ä»¶å¤¹çº¦å®š**                                               |                     |                        |
| [`[folder]/index`](https://next.nodejs.cn/docs/pages/building-your-application/routing/dynamic-routes) | `.js` `.jsx` `.tsx` | åŠ¨æ€è·¯æ®µ               |
| [`[...folder]/index`](https://next.nodejs.cn/docs/pages/building-your-application/routing/dynamic-routes#catch-all-segments) | `.js` `.jsx` `.tsx` | åŒ…ç½—ä¸‡è±¡çš„è·¯ç”±æ®µ       |
| `[[...folder]]/index`                                        | `.js` `.jsx` `.tsx` | å¯é€‰çš„åŒ…ç½—ä¸‡è±¡çš„è·¯ç”±æ®µ |



### åŒºåˆ«

|          | `app`                                                        | `pages`                                                      |
| :------: | ------------------------------------------------------------ | ------------------------------------------------------------ |
|   ä¸»é¡µ   | page                                                         | index                                                        |
| å…¨å±€æ ·å¼ | å…¨å±€æ ·å¼å¯ä»¥å¯¼å…¥åˆ° `app` ç›®å½•å†…çš„ä»»ä½•å¸ƒå±€ã€é¡µé¢æˆ–ç»„ä»¶ä¸­ã€‚    | å¾ˆé«˜å…´çŸ¥é“ï¼šè¿™ä¸ `pages` ç›®å½•ä¸åŒï¼Œåœ¨ `pages` ç›®å½•ä¸­åªèƒ½å¯¼å…¥ `_app.js` æ–‡ä»¶å†…çš„å…¨å±€æ ·å¼ã€‚ |
|   å¸ƒå±€   | å¯ä»¥é€šè¿‡é»˜è®¤ä» `layout.js` æ–‡ä»¶å¯¼å‡º React ç»„ä»¶æ¥å®šä¹‰å¸ƒå±€     | ä½¿ç”¨æ–‡ä»¶ `pages/_app` è¦†ç›–é»˜è®¤çš„ Appï¼Œåœ¨é¡µé¢æ›´æ”¹ä¹‹é—´åˆ›å»ºå…±äº«å¸ƒå±€ï¼Œæ·»åŠ å…¨å±€ CSS<br />è‡ªå®šä¹‰ `pages/_document` å¯ä»¥æ›´æ–°ç”¨äºæ¸²æŸ“é¡µé¢çš„ `<html>` å’Œ `<body>` æ ‡ç­¾ |
|   api    | åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”±ï¼Œè·¯ç”±ä¸­çš„æ¯ä¸ªæ–‡ä»¶å¤¹ä»£è¡¨ä¸€ä¸ªè·¯ç”±æ®µï¼Œ<br />æ¯ä¸ªè·¯ç”±æ®µéƒ½æ˜ å°„åˆ° URL è·¯å¾„ä¸­çš„ç›¸åº”æ®µ [ä¸€ä¸ªä¾‹å­ğŸŒ°](#app_api) | æ–‡ä»¶å¤¹ `pages/api` å†…çš„ä»»ä½•æ–‡ä»¶éƒ½ä¼šæ˜ å°„åˆ° `/api/*`ï¼Œ<br />å¹¶å°†è¢«è§†ä¸º API ç«¯ç‚¹è€Œä¸æ˜¯ `page` [ä¸€ä¸ªä¾‹å­ğŸŒ°](#pages_api) |
|          |                                                              |                                                              |
|          |                                                              |                                                              |
|          |                                                              |                                                              |



### app/api/ai è·¯ç”± <span id="app_api"></span>

```ts
export async function POST(): Promise<Response> {
  const res = await fetch('http://api/giveme')

  return new Response(JSON.stringify(res))
}
```



### pages/api è·¯ç”± <span id="pages_api"></span>

```ts
import type { NextApiRequest, NextApiResponse } from 'next'

type ResponseData = {
  message: string
}

export default function handler(
  req: NextApiRequest,
  res: NextApiResponse<ResponseData>
) {
  res.status(200).json({ message: 'Hello from Next.js!' })
}
```

